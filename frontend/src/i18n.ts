import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';
import { translationsApi } from './lib/api';

const resources = {
  en: {
    translation: {
      // Common
      'app.name': 'Zaki Mart',
      'app.tagline': 'The First Yemeni Products Store in USA',
      'common.welcome': 'High-quality wholesale products, reliable service, and exceptional value every time.',
      'common.loading': 'Loading...',
      'common.error': 'Error',
      'common.success': 'Success',
      'common.cancel': 'Cancel',
      'common.confirm': 'Confirm',
      'common.save': 'Save',
      'common.delete': 'Delete',
      'common.edit': 'Edit',
      'common.search': 'Search',
      'common.searchProducts': 'Search products...',
      'common.searchCategories': 'Search categories...',
      'common.filter': 'Filter',
      'common.sending': 'Sending...',
      'common.resetting': 'Resetting...',
      'common.saving': 'Saving...',
      'common.actions': 'Actions',
      'common.noDataFound': 'No data found',
      
      // Navigation
      'nav.home': 'Home',
      'nav.products': 'Products',
      'nav.cart': 'Cart',
      'nav.admin': 'Admin',
      'nav.login': 'Login',
      'nav.register': 'Register',
      'nav.logout': 'Logout',
      'nav.settings': 'Settings',
      'nav.theme': 'Theme',
      'nav.theme.light': 'Light',
      'nav.theme.dark': 'Dark',
      'nav.theme.system': 'System',
      'nav.language': 'Language',
      
      
      // Auth
      'auth.login': 'Login',
      'auth.register': 'Register',
      'auth.email': 'Email',
      'auth.password': 'Password',
      'auth.fullName': 'Full Name',
      'auth.loginSuccess': 'Logged in successfully',
      'auth.registerSuccess': 'Registered successfully',
      'auth.registerError': 'Email already registered',
      'auth.registerFailed': 'Registration failed',
      'auth.forgotPassword': 'Forgot Password',
      'auth.resetPassword': 'Reset Password',
      'auth.resetPasswordSuccess': 'Password reset successfully',
      'auth.loginError': 'Invalid credentials',
      'auth.resetPasswordError': 'Invalid token',
      'auth.enterNewPassword': 'Enter new password',
      'auth.passwordMismatch': 'Passwords do not match',
      'auth.emailRequired': 'Email is required',
      'auth.allFieldsRequired': 'All fields are required',
      'auth.emailNotFound': 'Email not found',
      'auth.resetFailed': 'Failed to reset password',
      'auth.resetEmailSent': 'Password reset link sent to your email',
      'auth.sendResetLink': 'Send Reset Link',
      'auth.rememberedPassword': 'Remembered your password?',
      'auth.enterYourEmail': 'Enter your email',
      'auth.resetLinkSent': 'Password reset link has been sent to your email. Please check your email for the token.',
      'auth.profileUpdateSuccess': 'Profile updated successfully',
      'auth.loggingIn': 'Logging in...',
      'auth.creatingAccount': 'Creating account...',
      'auth.passwordsDontMatch': 'Passwords do not match',
      
      
      // Products
      'products.title': 'Products',
      'products.allCategories': 'All Categories',
      'products.addToCart': 'Add to Cart',
      'products.outOfStock': 'Out of Stock',
      'products.price': 'Price',
      'products.stock': 'Stock',
      'products.category': 'Category',
      'products.description': 'Description',
      'products.searchHelpArabic': 'Search works in English. Arabic product names are for display only. Use English names or browse by category.',
      'products.sortBy': 'Sort by:',
      'products.sortPrice': 'Price',
      'products.sortPriceAsc': 'Price: Low to High',
      'products.sortPriceDesc': 'Price: High to Low',
      'products.sortNewest': 'Newest',
      'products.sortPopular': 'Most Popular',
      'products.sortStock': 'Stock Available',
      'products.notFound': 'Product not found',
      'products.addedToCart': 'added to cart',
      'products.noImage': 'No image',
      'products.back': 'Back',
      'products.noProductsFound': 'No products found',
      
      // Cart
      'cart.title': 'Shopping Cart',
      'cart.empty': 'Your cart is empty',
      'cart.items': 'items',
      'cart.subtotal': 'Subtotal',
      'cart.total': 'Total',
      'cart.checkout': 'Checkout',
      'cart.remove': 'Remove',
      'cart.quantity': 'Quantity',
      'cart.addedToCart': 'Added to cart',
      
      // Checkout
      'checkout.title': 'Checkout',
      'checkout.shippingAddress': 'Shipping Address',
      'checkout.paymentMethod': 'Payment Method',
      'checkout.securePayment': 'Secure Payment',
      'checkout.orderSummary': 'Order Summary',
      'checkout.placeOrder': 'Place Order',
      'checkout.orderSuccess': 'Order placed successfully!',
      'checkout.fillAllFields': 'Please fill in all address fields',
      'checkout.orderFailed': 'Failed to create order',
      
      // Checkout Address Fields
      'checkout.streetAddress': 'Street Address',
      'checkout.city': 'City',
      'checkout.state': 'State',
      'checkout.zipCode': 'ZIP Code',
      'admin.dashboard': 'Dashboard',
      'admin.products': 'Products',
      'admin.categories': 'Categories',
      'admin.orders': 'Orders',
      'admin.users': 'Users',
      'admin.theme': 'Theme',
      'admin.partners': 'Partners',
      'partners.manageTitle': 'Manage Partners',
      'admin.analytics': 'Analytics',
      'admin.addProduct': 'Add Product',
      'admin.manageYourProducts': 'Manage all your products',
      'admin.addCategory': 'Add Category',
      'admin.manageYourCategories': 'Manage all your categories',
      'admin.manageYourUsers': 'Manage all your users',
      'admin.totalSales': 'Total Sales',
      'admin.totalOrders': 'Total Orders',
      'admin.totalUsers': 'Total Users',
      'admin.totalProducts': 'Total Products',
      'admin.recentSales': 'Recent Sales',
      'admin.averageOrderValue': 'Avg Order Value',
      'admin.activeUsers': 'Active Users',
      'admin.outOfStock': 'Out of Stock',
      'admin.salesTrend': 'Sales Trend',
      'admin.orderStatusDistribution': 'Order Status Distribution',
      'admin.topSellingProducts': 'Top Selling Products',
      'admin.orderStatusSummary': 'Order Status Summary',
      'admin.unitsSold': 'Units Sold',
      'admin.sales': 'Sales',
      'admin.date': 'Date',
      'admin.timeRange': 'Time Range',
      'admin.last7Days': 'Last 7 Days',
      'admin.last30Days': 'Last 30 Days',
      'admin.last90Days': 'Last 90 Days',
      
      // Theme Settings
      'theme.primaryColor': 'Primary Color',
      'theme.secondaryColor': 'Secondary Color',
      'theme.accentColor': 'Accent Color',
      'theme.colorPlaceholder': 'Color code (e.g., #2563eb)',
      'theme.fontSize': 'Font Size',
      'theme.fontSizeSmall': 'Small',
      'theme.fontSizeBase': 'Base',
      'theme.fontSizeLarge': 'Large',
      'theme.borderRadius': 'Border Radius',
      'theme.borderRadiusSmall': 'Small',
      'theme.borderRadiusMedium': 'Medium',
      'theme.borderRadiusLarge': 'Large',
      'theme.usedFor': 'Used for main buttons and links',
      'theme.usedForSecondary': 'Used for gradient and accents',
      'theme.usedForAccent': 'Used for alerts and highlights',
      'theme.preview': 'Preview',
      'theme.primaryButton': 'Primary Button',
      'theme.secondaryButton': 'Secondary Button',
      'theme.accentButton': 'Accent Button',
      'theme.updateSuccess': 'Theme updated successfully',
      'theme.updateError': 'Failed to update theme',
      
      // Order Status (for dashboard)
      'orders.status.pending': 'Pending',
      'orders.status.processing': 'Processing',
      'orders.status.shipped': 'Shipped',
      'orders.status.delivered': 'Delivered',
      'orders.status.cancelled': 'Cancelled',
      'orders.statusUpdated': 'Order status updated successfully',
      'orders.updateError': 'Failed to update order status',
      'orders.approveOrder': 'Approve Order',
      'orders.markShipped': 'Mark as Shipped',
      'orders.markDelivered': 'Mark as Delivered',
      'orders.cancelOrder': 'Cancel Order',
      'orders.manageDesc': 'Manage and track all customer orders',
      'orders.totalOrders': 'Total Orders',
      'orders.pendingCount': 'Pending',
      'orders.processingCount': 'Processing',
      'orders.shippedCount': 'Shipped',
      'orders.deliveredCount': 'Delivered',
      'orders.filterByStatus': 'Filter by Status:',
      'orders.allOrders': 'All Orders',
      'orders.sortBy': 'Sort by:',
      'orders.newestFirst': 'Newest First',
      'orders.oldestFirst': 'Oldest First',
      'orders.highestTotal': 'Highest Total',
      'orders.lowestTotal': 'Lowest Total',
      'orders.noOrdersFound': 'No orders found',
      'orders.orderNumber': 'Order #{{id}}',
      'orders.totalAmount': 'Total Amount',
      'orders.items': 'Order Items',
      'orders.qty': 'Qty:',
      'orders.each': 'each',
      'orders.shippingAddressLabel': 'Shipping Address',
      'orders.phone': 'Phone:',
      'orders.updateStatus': 'Update Order Status',
      'orders.processingApproved': 'Processing (Approved)',
      
      // Product Admin Form
      'product.name': 'Name',
      'product.description': 'Description',
      'product.arabicName': 'Arabic Name',
      'product.arabicDescription': 'Arabic Description',
      'product.price': 'Price',
      'product.stock': 'Stock',
      'product.category': 'Category',
      'product.categorySelect': 'Select category',
      'product.image': 'Image',
      'product.uploading': 'Uploading...',
      'product.created': 'Product created',
      'product.createFailed': 'Failed to create product',
      'product.updated': 'Product updated',
      'product.updateFailed': 'Failed to update product',
      'product.deleted': 'Product deleted',
      'product.deleteFailed': 'Failed to delete product',
      'product.imageUploaded': 'Image uploaded',
      'product.uploadImageFailed': 'Failed to upload image',
      'product.noImage': 'No image',
      'product.back': 'Back',
      'product.required': '*',
      'product.editTitle': 'Edit Product',
      
      // Category Admin Form
      'category.name': 'Name',
      'category.description': 'Description',
      'category.arabicName': 'Arabic Name',
      'category.arabicDescription': 'Arabic Description',
      'category.created': 'Category created',
      'category.createFailed': 'Failed to create category',
      'category.updated': 'Category updated',
      'category.updateFailed': 'Failed to update category',
      'category.deleted': 'Category deleted',
      'category.deleteFailed': 'Failed to delete category',
      'category.editTitle': 'Edit Category',
      'category.required': '*',
      'category.noImage': 'No image',
      'category.image': 'Category Image',
      'category.imageUploading': 'Uploading...',
      'category.uploadImageButton': 'Upload Image',
      'category.imageUploaded': 'Image uploaded successfully',
      'category.imageUploadFailed': 'Failed to upload image',
      'category.imagePreview': 'Image Preview:',
      
      // Partner Admin Form
      'partner.deleteButton': 'Delete',
      'partner.selectedFile': 'Selected:',
      'checkout.processing': 'Processing...',
      'checkout.streetAddressPlaceholder': '123 Main Street',
      'checkout.cityPlaceholder': 'New York',
      'checkout.zipCodePlaceholder': '10001',
      'checkout.phonePlaceholder': '(555) 123-4567',
      'checkout.selectState': 'Select State',
      
      // Profile Form
      'profile.accountInfo': 'Account Information',
      'profile.changePassword': 'Change Password',
      'profile.currentPassword': 'Current Password',
      'profile.newPassword': 'New Password',
      'profile.confirmPassword': 'Confirm Password',
      'profile.leaveBlankNoChange': 'Leave blank if no change',
      'profile.email': 'Email',
      'profile.role': 'Role',
      'profile.customer': 'Customer',
      'profile.admin': 'Admin',
      'profile.editUser': 'Edit User',
      'profile.title': 'My Profile',
      
      // Settings
      'settings.description': 'Manage your account settings and preferences',
      'settings.appearance': 'Appearance',
      'settings.language': 'Language',
      'settings.account': 'Account',
      'settings.privacy': 'Privacy & Security',
      'settings.chooseTheme': 'Choose your preferred theme',
      'settings.languageDescription': 'Change the interface language',
      'settings.accountDescription': 'Manage your account information and password',
      'settings.accountInfo': 'Account Information',
      'settings.additionalInfo': 'Additional Information',
      'settings.infoText': 'Your settings are saved automatically and synced across all your devices.',
      
      // Form Validation
      'form.required': '*',
      'form.selectCategory': 'Select category',
      
      // User Management
      'user.email': 'Email (Read-only)',
      'user.fullName': 'Full Name',
      'user.role': 'Role',
      'user.updateFailed': 'Failed to update user',
      'user.updatedSuccessfully': 'User updated successfully',
      'user.joined': 'Joined',
      
      'home.freeShippingDesc': 'Free delivery on orders over $50',
      'home.qualityProducts': 'Quality Products',
      'home.qualityProductsDesc': 'Handpicked items of the highest quality',
      'home.securePayment': 'Secure Payment',
      'home.securePaymentDesc': 'Safe and encrypted transactions',
      'home.featuredProducts': 'Featured Products',
      'home.shopByCategory': 'Shop by Category',
      'home.mostPopular': 'Most Popular Products',
      'partners.manageDescription': 'Add and manage brand partner logos',
      'partners.addButton': 'Add Partner',
      'partners.addTitle': 'Add Partner Logo',
      'partners.addDescription': 'Upload a partner logo to display on the homepage',
      'partners.partnerName': 'Partner Name',
      'partners.logoImage': 'Logo Image',
      'partners.chooseImage': 'Choose Image',
      'partners.uploading': 'Uploading...',
      'partners.noPartners': 'No partners added yet',
      'partners.addFirstPartner': 'Add your first partner',
      'partners.failedToLoadPartners': 'Failed to load partners',
      'partners.failedToUpload': 'Failed to upload partner logo',
      'partners.addedSuccessfully': 'Partner added successfully',
      'partners.deletedSuccessfully': 'Partner deleted successfully',
      'partners.failedToDelete': 'Failed to delete partner',
      'partners.enterName': 'Please enter partner name',
      'home.ourPartners': 'Our Partners',
      'pagination.previous': 'Previous',
      'pagination.next': 'Next',
      'pagination.page': 'Page',
      'pagination.of': 'of',
      'pagination.item': 'item',
      'pagination.items': 'items',
      
      // Footer
      'footer.description': 'Your trusted online shopping destination for quality products and excellent service.',
      'footer.quickLinks': 'Quick Links',
      'footer.customerService': 'Customer Service',
      'footer.aboutUs': 'About Us',
      'footer.contactUs': 'Contact Us',
      'footer.privacyPolicy': 'Privacy Policy',
      'footer.termsConditions': 'Terms & Conditions',
      'footer.contactInfo': 'Contact Info',
      'footer.allRightsReserved': 'All rights reserved.',
      'footer.privacy': 'Privacy',
      'footer.terms': 'Terms',
      'footer.sitemap': 'Sitemap',
      'footer.forgotPassword': 'Forgot Password',
      'footer.home': 'Home',
      'footer.products': 'Products',
      'footer.cart': 'Cart',
      'footer.login': 'Login',
      
    }
  },
 /*  es: {
    translation: {
      // Common
      'app.name': 'Zaki Mart',
      'app.tagline': 'Tu Tienda Todo en Uno',
      'common.loading': 'Cargando...',
      'common.error': 'Error',
      'common.success': 'Éxito',
      'common.cancel': 'Cancelar',
      'common.confirm': 'Confirmar',
      'common.save': 'Guardar',
      'common.delete': 'Eliminar',
      'common.edit': 'Editar',
      'common.search': 'Buscar',
      'common.filter': 'Filtrar',
      'common.sending': 'Enviando...',
      'common.resetting': 'Restableciendo...',
      'common.saving': 'Guardando...',
      
      // Navigation
      'nav.home': 'Inicio',
      'nav.products': 'Productos',
      'nav.cart': 'Carrito',
      'nav.admin': 'Admin',
      'nav.login': 'Iniciar Sesión',
      'nav.register': 'Registrarse',
      'nav.logout': 'Cerrar Sesión',
      'profile.title': 'Mi Perfil',
      
      // Auth
      'auth.login': 'Iniciar Sesión',
      'auth.register': 'Registrarse',
      'auth.email': 'Correo Electrónico',
      'auth.password': 'Contraseña',
      'auth.fullName': 'Nombre Completo',
      'auth.loginSuccess': 'Sesión iniciada correctamente',
      'auth.registerSuccess': 'Registrado correctamente',
      'auth.loginError': 'Credenciales inválidas',
      'auth.passwordMismatch': 'Las contraseñas no coinciden',
      'auth.emailRequired': 'El correo electrónico es obligatorio',
      'auth.allFieldsRequired': 'Todos los campos son obligatorios',
      'auth.emailNotFound': 'Correo electrónico no encontrado',
      'auth.resetFailed': 'Error al restablecer la contraseña',
      'auth.resetEmailSent': 'Enlace de restablecimiento enviado a tu correo',
      'auth.sendResetLink': 'Enviar Enlace de Restablecimiento',
      'auth.rememberedPassword': '¿Recordaste tu contraseña?',
      'auth.enterYourEmail': 'Ingresa tu correo electrónico',
      'auth.resetLinkSent': 'El enlace de restablecimiento se ha enviado a tu correo. Por favor, revisa tu bandeja de entrada.',
      'auth.profileUpdateSuccess': 'Perfil actualizado correctamente',
      
      // Products
      'products.title': 'Productos',
      'products.allCategories': 'Todas las Categorías',
      'products.addToCart': 'Agregar al Carrito',
      'products.outOfStock': 'Agotado',
      'products.price': 'Precio',
      'products.stock': 'Stock',
      'products.category': 'Categoría',
      'products.description': 'Descripción',
      
      // Cart
      'cart.title': 'Carrito de Compras',
      'cart.empty': 'Tu carrito está vacío',
      'cart.items': 'artículos',
      'cart.subtotal': 'Subtotal',
      'cart.total': 'Total',
      'cart.checkout': 'Pagar',
      'cart.remove': 'Eliminar',
      'cart.quantity': 'Cantidad',
      
      // Checkout
      'checkout.title': 'Pagar',
      'checkout.shippingAddress': 'Dirección de Envío',
      'checkout.paymentMethod': 'Método de Pago',
      'checkout.placeOrder': 'Realizar Pedido',
      'checkout.orderSuccess': '¡Pedido realizado con éxito!',
      
      // Admin
      'admin.dashboard': 'Panel de Control',
      'admin.products': 'Productos',
      'admin.categories': 'Categorías',
      'admin.orders': 'Pedidos',
      'admin.users': 'Usuarios',
      'admin.analytics': 'Analíticas',
      'admin.addProduct': 'Agregar Producto',
      'admin.addCategory': 'Agregar Categoría',
      'admin.totalSales': 'Ventas Totales',
      'admin.totalOrders': 'Pedidos Totales',
      'admin.totalUsers': 'Usuarios Totales',
      'admin.totalProducts': 'Productos Totales',
      
      // Home Features
      'home.freeShipping': 'Envío Gratis',
      'home.freeShippingDesc': 'Entrega gratuita en pedidos superiores a $50',
      'home.qualityProducts': 'Productos de Calidad',
      'home.qualityProductsDesc': 'Artículos seleccionados de la más alta calidad',
      'home.securePayment': 'Pago Seguro',
      'home.securePaymentDesc': 'Transacciones seguras y encriptadas',
      'home.featuredProducts': 'Productos Destacados',
      'home.shopByCategory': 'Comprar por Categoría',
    }
  }, */
  ar: {
    translation: {
      // Common
      'app.name': 'زاكي مارت',
      'app.tagline': 'متجر المنتجات اليمنية في الولايات المتحدة الأمريكية', 
      'common.welcome': 'توفير منتجات عالية الجودة . و خدمة موثوقة متميزه لعملائنا الكرام.',
      'common.loading': 'جاري التحميل...',
      'common.error': 'خطأ',
      'common.success': 'نجح',
      'common.cancel': 'إلغاء',
      'common.confirm': 'تأكيد',
      'common.save': 'حفظ',
      'common.delete': 'حذف',
      'common.edit': 'تعديل',
      'common.search': 'بحث',
      'common.searchProducts': 'ابحث عن منتجات...',
      'common.searchCategories': 'ابحث عن فئات...',
      'common.filter': 'تصفية',
      'common.sending': 'جاري الإرسال...',
      'common.resetting': 'جاري التغيير...',
      'common.saving': 'جاري الحفظ...',
      'common.noDataFound': 'لا توجد بيانات',
      
      'nav.home': 'الرئيسية',
      'nav.products': 'المنتجات',
      'nav.cart': 'السلة',
      'nav.admin': 'الإدارة',
      'nav.login': 'تسجيل الدخول',
      'nav.register': 'التسجيل',
      'nav.logout': 'تسجيل الخروج',
      'nav.settings': 'الإعدادات',
      'nav.theme': 'المظهر',
      'nav.theme.light': 'فاتح',
      'nav.theme.dark': 'داكن',
      'nav.theme.system': 'النظام',
      'nav.language': 'اللغة',

      
      // Auth
      'auth.login': 'تسجيل الدخول',
      'auth.register': 'إنشاء حساب',
      'auth.email': 'البريد الإلكتروني',
      'auth.password': 'كلمة المرور',
      'auth.fullName': 'الاسم الكامل',
      'auth.loginSuccess': 'تم تسجيل الدخول بنجاح',
      'auth.registerSuccess': 'تم التسجيل بنجاح',
      'auth.loginError': 'بيانات اعتماد غير صالحة',
      'auth.registerError': 'البريد الإلكتروني مسجل مسبقا',
      'auth.registerFailed': 'فشل التسجيل',
      'auth.forgotPassword': 'هل نسيت كلمة المرور',
      'auth.resetPassword': 'تغيير كلمة المرور',
      'auth.resetPasswordSuccess': 'تم تغيير كلمة المرور بنجاح',
      'auth.passwordMismatch': 'كلمات المرور غير متطابقة',
      'auth.emailRequired': 'البريد الإلكتروني مطلوب',
      'auth.allFieldsRequired': 'جميع الحقول مطلوبة',
      'auth.emailNotFound': 'البريد الإلكتروني غير موجود',
      'auth.resetFailed': 'فشل في تغيير كلمة المرور',
      'auth.resetEmailSent': 'تم إرسال رابط تغيير كلمة المرور إلى بريدك الإلكتروني',
      'auth.sendResetLink': 'إرسال رابط التغيير',
      'auth.rememberedPassword': 'تذكرت كلمة المرور؟',
      'auth.enterYourEmail': 'أدخل بريدك الإلكتروني',
      'auth.resetLinkSent': 'تم إرسال رابط تغيير كلمة المرور إلى بريدك الإلكتروني. يرجى التحقق من بريدك الإلكتروني.',
      'auth.profileUpdateSuccess': 'تم تحديث الملف الشخصي بنجاح',
      'auth.dontHaveAccount': "ليس لديك حساب؟",
      'auth.haveAccount': 'هل لديك حساب؟',
      
      
      // Products
      'products.title': 'المنتجات',
      'products.allCategories': 'جميع الفئات',
      'products.addToCart': 'إضافة للسلة',
      'products.outOfStock': 'نفذت الكمية',
      'products.price': 'السعر',
      'products.stock': 'المخزون',
      'products.category': 'الفئة',
      'products.description': 'الوصف',
      'products.searchHelpArabic': 'يعمل البحث باللغة الإنجليزية فقط. أسماء المنتجات بالعربية للعرض فقط. استخدم الأسماء الإنجليزية أو تصفح حسب الفئة.',
      'products.sortBy': 'ترتيب حسب:',
      'products.sortPrice': 'السعر',
      'products.sortPriceAsc': 'السعر: من الأقل للأعلى',
      'products.sortPriceDesc': 'السعر: من الأعلى للأقل',
      'products.sortNewest': 'الأحدث',
      'products.sortPopular': 'الأكثر شهرة',
      'products.sortStock': 'المتاح',
      'products.notFound': 'لم يتم العثور على المنتج',
      'products.addedToCart': 'تمت الإضافة إلى السلة',
      'products.noImage': 'لا توجد صورة',
      'products.back': 'العودة',
      'products.noProductsFound': 'لم يتم العثور على منتجات',
      
      // Cart
      'cart.title': 'سلة التسوق',
      'cart.empty': 'سلتك فارغة',
      'cart.items': 'عناصر',
      'cart.subtotal': 'المجموع الفرعي',
      'cart.total': 'المجموع',
      'cart.checkout': 'الدفع',
      'cart.remove': 'إزالة',
      'cart.quantity': 'الكمية',
      'cart.addedToCart': 'تمت الإضافة إلى السلة',
      
      // Checkout
      'checkout.title': 'الدفع',
      'checkout.shippingAddress': 'عنوان الشحن',
      'checkout.paymentMethod': 'طريقة الدفع',
      'checkout.securePayment': 'دفع آمن',
      'checkout.orderSummary': 'ملخص الطلب',
      'checkout.placeOrder': 'تقديم الطلب',
      'checkout.orderSuccess': 'تم تقديم الطلب بنجاح!',
      'checkout.fillAllFields': 'يرجى ملء جميع حقول العنوان',
      'checkout.orderFailed': 'فشل إنشاء الطلب',
      
      // Checkout Address Fields
      'checkout.streetAddress': 'عنوان الشارع',
      'checkout.city': 'المدينة',
      'checkout.state': 'الولاية',
      'checkout.zipCode': 'الرمز البريدي',
      'checkout.phone': 'الهاتف',
      
      // Admin
      'admin.dashboard': 'لوحة التحكم',
      'admin.products': 'المنتجات',
      'admin.categories': 'الفئات',
      'admin.orders': 'الطلبات',
      'admin.users': 'المستخدمون',
      'admin.theme': 'المظهر',
      'admin.partners': 'الشركاء',
      'partners.manageTitle': 'إدارة الشركاء',
      'admin.analytics': 'التحليلات',
      'admin.addProduct': 'إضافة منتج',
      'admin.manageYourProducts': 'إدارة جميع منتجاتك',
      'admin.addCategory': 'إضافة فئة',
      'admin.manageYourCategories': 'إدارة جميع فئاتك',
      'admin.manageYourUsers': 'إدارة جميع مستخدميك',
      'admin.totalSales': 'إجمالي المبيعات',
      'admin.totalOrders': 'إجمالي الطلبات',
      'admin.totalUsers': 'إجمالي المستخدمين',
      'admin.totalProducts': 'إجمالي المنتجات',
      'admin.recentSales': 'المبيعات الحديثة',
      'admin.averageOrderValue': 'متوسط قيمة الطلب',
      'admin.activeUsers': 'المستخدمون النشطون',
      'admin.outOfStock': 'نفذت الكمية',
      'admin.salesTrend': 'اتجاه المبيعات',
      'admin.orderStatusDistribution': 'توزيع حالة الطلبات',
      'admin.topSellingProducts': 'المنتجات الأكثر مبيعًا',
      'admin.orderStatusSummary': 'ملخص حالة الطلبات',
      'admin.unitsSold': 'الوحدات المباعة',
      'admin.sales': 'المبيعات',
      'admin.date': 'التاريخ',
      'admin.timeRange': 'نطاق الوقت',
      'admin.last7Days': 'آخر 7 أيام',
      'admin.last30Days': 'آخر 30 يومًا',
      'admin.last90Days': 'آخر 90 يومًا',
      
      // Theme Settings
      'theme.primaryColor': 'اللون الأساسي',
      'theme.secondaryColor': 'اللون الثانوي',
      'theme.accentColor': 'لون التمييز',
      'theme.colorPlaceholder': 'رمز اللون (مثال: #2563eb)',
      'theme.fontSize': 'حجم الخط',
      'theme.fontSizeSmall': 'صغير',
      'theme.fontSizeBase': 'عادي',
      'theme.fontSizeLarge': 'كبير',
      'theme.borderRadius': 'الحدود المدورة',
      'theme.borderRadiusSmall': 'صغيرة',
      'theme.borderRadiusMedium': 'متوسطة',
      'theme.borderRadiusLarge': 'كبيرة',
      'theme.usedFor': 'يستخدم للأزرار والروابط الرئيسية',
      'theme.usedForSecondary': 'يستخدم للتدرج اللوني والتمييزات',
      'theme.usedForAccent': 'يستخدم للتنبيهات والإبراز',
      'theme.preview': 'معاينة',
      'theme.primaryButton': 'زر أساسي',
      'theme.secondaryButton': 'زر ثانوي',
      'theme.accentButton': 'زر تمييز',
      'theme.updateSuccess': 'تم تحديث المظهر بنجاح',
      'theme.updateError': 'فشل تحديث المظهر',
      
      // Order Status (for dashboard)
      'orders.status.pending': 'قيد الانتظار',
      'orders.status.processing': 'قيد المعالجة',
      'orders.status.shipped': 'تم الشحن',
      'orders.status.delivered': 'تم التسليم',
      'orders.status.cancelled': 'ملغى',
      'orders.statusUpdated': 'تم تحديث حالة الطلب بنجاح',
      'orders.updateError': 'فشل في تحديث حالة الطلب',
      'orders.approveOrder': 'الموافقة على الطلب',
      'orders.markShipped': 'وضع علامة كمرسل',
      'orders.markDelivered': 'وضع علامة كمسلم',
      'orders.cancelOrder': 'إلغاء الطلب',
      'orders.manageDesc': 'إدارة وتتبع جميع طلبات العملاء',
      'orders.totalOrders': 'إجمالي الطلبات',
      'orders.pendingCount': 'قيد الانتظار',
      'orders.processingCount': 'قيد المعالجة',
      'orders.shippedCount': 'تم الشحن',
      'orders.deliveredCount': 'تم التسليم',
      'orders.filterByStatus': 'تصفية حسب الحالة:',
      'orders.allOrders': 'جميع الطلبات',
      'orders.sortBy': 'ترتيب حسب:',
      'orders.newestFirst': 'الأحدث أولاً',
      'orders.oldestFirst': 'الأقدم أولاً',
      'orders.highestTotal': 'أعلى إجمالي',
      'orders.lowestTotal': 'أقل إجمالي',
      'orders.noOrdersFound': 'لم يتم العثور على طلبات',
      'orders.orderNumber': 'الطلب #{{id}}',
      'orders.totalAmount': 'إجمالي المبلغ',
      'orders.items': 'عناصر الطلب',
      'orders.qty': 'الكمية:',
      'orders.each': 'لكل واحد',
      'orders.shippingAddressLabel': 'عنوان الشحن',
      'orders.phone': 'الهاتف:',
      'orders.updateStatus': 'تحديث حالة الطلب',
      'orders.processingApproved': 'قيد المعالجة (موافق عليه)',
      
      // Product Admin Form
      'product.name': 'الاسم',
      'product.description': 'الوصف',
      'product.arabicName': 'الاسم بالعربية',
      'product.arabicDescription': 'الوصف بالعربية',
      'product.price': 'السعر',
      'product.stock': 'المخزون',
      'product.category': 'الفئة',
      'product.categorySelect': 'اختر فئة',
      'product.image': 'صورة',
      'product.uploading': 'جاري التحميل...',
      'product.created': 'تم إنشاء المنتج',
      'product.createFailed': 'فشل إنشاء المنتج',
      'product.updated': 'تم تحديث المنتج',
      'product.updateFailed': 'فشل تحديث المنتج',
      'product.deleted': 'تم حذف المنتج',
      'product.deleteFailed': 'فشل حذف المنتج',
      'product.imageUploaded': 'تم رفع الصورة',
      'product.uploadImageFailed': 'فشل رفع الصورة',
      'product.noImage': 'لا توجد صورة',
      'product.back': 'العودة',
      'product.required': '*',
      'product.editTitle': 'تعديل المنتج',
      
      // Category Admin Form
      'category.name': 'الاسم',
      'category.description': 'الوصف',
      'category.arabicName': 'الاسم بالعربية',
      'category.arabicDescription': 'الوصف بالعربية',
      'category.created': 'تم إنشاء الفئة',
      'category.createFailed': 'فشل إنشاء الفئة',
      'category.updated': 'تم تحديث الفئة',
      'category.updateFailed': 'فشل تحديث الفئة',
      'category.deleted': 'تم حذف الفئة',
      'category.deleteFailed': 'فشل حذف الفئة',
      'category.editTitle': 'تعديل الفئة',
      'category.required': '*',
      'category.noImage': 'لا توجد صورة',
      'category.image': 'صورة الفئة',
      'category.imageUploading': 'جاري التحميل...',
      'category.uploadImageButton': 'رفع صورة',
      'category.imageUploaded': 'تم رفع الصورة بنجاح',
      'category.imageUploadFailed': 'فشل رفع الصورة',
      'category.imagePreview': 'معاينة الصورة:',
      
      // Partner Admin Form
      'partner.deleteButton': 'حذف',
      'partner.selectedFile': 'المحدد:',
      'checkout.processing': 'جاري معالجة...',
      'checkout.streetAddressPlaceholder': '123 شارع رئيسي',
      'checkout.cityPlaceholder': 'نيويورك',
      'checkout.zipCodePlaceholder': '10001',
      'checkout.phonePlaceholder': '(555) 123-4567',
      
      // Form Validation
      'form.required': '*',
      'form.selectCategory': 'اختر فئة',
      
      // Settings
      'settings.description': 'إدارة إعدادات حسابك وتفضيلاتك',
      'settings.appearance': 'المظهر',
      'settings.language': 'اللغة',
      'settings.account': 'الحساب',
      'settings.privacy': 'الخصوصية والأمان',
      'settings.chooseTheme': 'اختر المظهر المفضل لديك',
      'settings.languageDescription': 'تغيير لغة الواجهة',
      'settings.accountDescription': 'إدارة معلومات حسابك وكلمة المرور',
      'settings.accountInfo': 'معلومات الحساب',
      'settings.additionalInfo': 'معلومات إضافية',
      'settings.infoText': 'يتم حفظ إعداداتك تلقائيًا ومزامنتها عبر جميع أجهزتك.',
      
      // User Management
      'user.email': 'البريد الإلكتروني (قراءة فقط)',
      'user.fullName': 'الاسم الكامل',
      'user.role': 'الدور',
      'user.updateFailed': 'فشل التحديث',
      'user.updatedSuccessfully': 'تم تحديث المستخدم بنجاح',
      'user.joined': 'الانضمام',
      'auth.loggingIn': 'جاري تسجيل الدخول...',
      'auth.creatingAccount': 'جاري إنشاء الحساب...',
      'auth.passwordsDontMatch': 'كلمات المرور غير متطابقة',
      'home.freeShippingDesc': 'توصيل مجاني للطلبات التي تزيد عن 50 دولار',
      'home.qualityProducts': 'منتجات عالية الجودة',
      'home.qualityProductsDesc': 'منتجات مختارة بعناية من أعلى جودة',
      'home.securePayment': 'دفع آمن',
      'home.securePaymentDesc': 'معاملات آمنة ومشفرة',
      'home.featuredProducts': 'المنتجات المميزة',
      'home.shopByCategory': 'تسوق حسب الفئة',
      'home.contactUs': 'اتصل بنا',
      'home.mostPopular': 'المنتجات الأكثر شهرة',
      'partners.manageDescription': 'إضافة وإدارة شعارات الشركاء',
      'partners.addButton': 'إضافة شريك',
      'partners.addTitle': 'إضافة شعار الشريك',
      'partners.addDescription': 'قم بتحميل شعار الشريك للعرض على الصفحة الرئيسية',
      'partners.partnerName': 'اسم الشريك',
      'partners.logoImage': 'صورة الشعار',
      'partners.chooseImage': 'اختر صورة',
      'partners.uploading': 'جاري التحميل...',
      'partners.noPartners': 'لم تتم إضافة شركاء حتى الآن',
      'partners.addFirstPartner': 'أضف أول شريك لك',
      'partners.failedToLoadPartners': 'فشل تحميل الشركاء',
      'partners.failedToUpload': 'فشل تحميل شعار الشريك',
      'partners.addedSuccessfully': 'تمت إضافة الشريك بنجاح',
      'partners.deletedSuccessfully': 'تم حذف الشريك بنجاح',
      'partners.failedToDelete': 'فشل حذف الشريك',
      'partners.enterName': 'يرجى إدخال اسم الشريك',
      'home.ourPartners': 'شركاؤنا',
      'pagination.previous': 'السابق',
      'pagination.next': 'التالي',
      'pagination.page': 'الصفحة',
      'pagination.of': 'من',
      'pagination.item': 'عنصر',
      'pagination.items': 'عناصر',
      
      // Footer
      'footer.description': 'موقع تسوق إلكتروني موثوق به لمنتجات عالية الجودة وخدمة ممتازة.',
      'footer.quickLinks': 'الروابط السريعة',
      'footer.customerService': 'خدمة العملاء',
      'footer.aboutUs': 'عن زاكي مارت',
      'footer.contactUs': 'اتصل بنا',
      'footer.privacyPolicy': 'سياسة الخصوصية',
      'footer.termsConditions': 'الشروط والأحكام',
      'footer.contactInfo': 'معلومات الاتصال',
      'footer.allRightsReserved': 'جميع الحقوق محفوظة.',
      'footer.privacy': 'خصوصية',
      'footer.terms': 'بنود',
      'footer.sitemap': 'خرائط الموقع',
      'footer.forgotPassword': 'هل نسيت كلمة المرور',
      'footer.home': 'الرئيسية',
      'footer.products': 'المنتجات',
      'footer.cart': 'السلة',
      'footer.login': 'تسجيل الدخول'
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage']
    }
  });

// Load dynamic translations from backend asynchronously (non-blocking)
let translationsLoaded = false;

// Start loading translations in the background without blocking
if (!translationsLoaded) {
  translationsLoaded = true;
  // Load translations asynchronously without waiting
  setTimeout(() => {
    translationsApi.getByLang('en')
      .then(res => {
        i18n.addResourceBundle('en', 'translation', res.data, true, true);
      })
      .catch(err => console.warn('Failed to load EN translations:', err));
    
    translationsApi.getByLang('ar')
      .then(res => {
        i18n.addResourceBundle('ar', 'translation', res.data, true, true);
      })
      .catch(err => console.warn('Failed to load AR translations:', err));
  }, 100);
}

export default i18n;